(this["webpackJsonpreact-frontend"]=this["webpackJsonpreact-frontend"]||[]).push([[0],{11:function(e,t,n){e.exports=n(19)},16:function(e,t,n){},17:function(e,t,n){},19:function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),o=n(9),i=n.n(o),r=(n(16),n(17),n(7)),s=n.n(r),c=n(10),u=n(2),d=n(3),h=n(5),p=n(4),m=n(1),v=n(6),f=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(h.a)(this,Object(p.a)(t).call(this,e))).onChange=function(e){n.setState({value:e.target.value}),n.display=n.determineDisplay({x:n.props.x,y:n.props.y},e.target.value)},n.onKeyPressOnInput=function(e){"Enter"===e.key&&n.hasNewValue(e.target.value)},n.onBlur=function(e){n.hasNewValue(e.target.value)},n.handleUnselectAll=function(){(n.state.selected||n.state.editing)&&n.setState({selected:!1,editing:!1})},n.hasNewValue=function(e){n.props.onChangedValue({x:n.props.x,y:n.props.y},e),n.setState({editing:!1})},n.emitUnselectAllEvent=function(){var e=new Event("unselectAll");window.document.dispatchEvent(e)},n.clicked=function(){n.emitUnselectAllEvent(),n.setState({editing:!0,selected:!0})},n.determineDisplay=function(e,t){e.x,e.y;return t},n.calculateCss=function(){var e={width:"80px",padding:"4px",margin:"0",height:"25px",boxSizing:"border-box",position:"relative",display:"inline-block",color:"black",border:"1px solid #cacaca",textAlign:"left",verticalAlign:"top",fontSize:"14px",lineHeight:"15px",overflow:"hidden",fontFamily:"Calibri, 'Segoe UI', Thonburi, Arial, Verdana, sans-serif"};return 0===n.props.y&&(e.textAlign="center",e.backgroundColor="#f0f0f0",e.fontWeight="bold"),e},n.state={editing:!1,value:e.value},n.display=n.determineDisplay({x:e.x,y:e.y},e.value),n}return Object(v.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){window.document.addEventListener("unselectAll",this.handleUnselectAll)}},{key:"componentWillUnmount",value:function(){window.document.removeEventListener("unselectAll",this.handleUnselectAll)}},{key:"render",value:function(){var e=this,t=this.calculateCss();return this.state.selected&&(t.outlineColor="lightblue",t.outlineStyle="dotted"),this.state.editing?l.a.createElement("input",{style:t,type:"text",onBlur:this.onBlur,onKeyPress:this.onKeyPressOnInput,value:this.state.value,onChange:this.onChange,autoFocus:!0}):l.a.createElement("span",{id:"main_table",onClick:function(t){return e.clicked(t)},style:t,role:"presentation"},this.display)}}]),t}(l.a.Component),w=function(e){for(var t=[],n=e.y,a=0;a<e.x;a+=1)t.push(l.a.createElement(f,{key:"".concat(a,"-").concat(n),y:n,x:a,onChangedValue:e.handleChangedCell,updateCells:e.updateCells,value:e.rowData[a]||""}));return l.a.createElement("div",null,t)},g=function(e){function t(e){var n;if(Object(u.a)(this,t),(n=Object(h.a)(this,Object(p.a)(t).call(this,e))).handleChangedCell=function(e,t){var a=e.x,l=e.y,o=Object.assign({},n.state.data);o[l]||(o[l]={}),o[l][a]=t,n.setState({data:o})},n.updateCells=function(){n.forceUpdate()},window.table_data_string){n.state={data:JSON.parse(function(e){var t=document.createElement("textarea");return t.innerHTML=e,t.value}(window.table_data_string)),col:n.props.y,row:n.props.x}}else n.state={data:{},col:n.props.y,row:n.props.x};return n.handleChange=n.handleChange.bind(Object(m.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(m.a)(n)),n.handleAddRow=n.handleAddRow.bind(Object(m.a)(n)),n}return Object(v.a)(t,e),Object(d.a)(t,[{key:"handleChange",value:function(e){this.setState({value:e.target.value})}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.setState({y:this.state.col+=1})}},{key:"handleAddRow",value:function(e){e.preventDefault(),this.setState({x:this.state.row+=1})}},{key:"render",value:function(){for(var e=this,t=[],n=0;n<this.state.row+1;n+=1){var a=this.state.data[n]||{};t.push(l.a.createElement(w,{handleChangedCell:this.handleChangedCell,updateCells:this.updateCells,handleSubmit:this.handleSubmit,key:n,y:n,x:this.state.col,rowData:a}))}return l.a.createElement("div",null,t,l.a.createElement("form",{onSubmit:this.handleSubmit},l.a.createElement("select",{value:this.state.value,onChange:this.handleChange},l.a.createElement("option",{selected:!0,placeholder:"new col"}," Select Type "),l.a.createElement("option",{value:"string"}," String "),l.a.createElement("option",{value:"integer"}," Integer")),l.a.createElement("input",{type:"submit",value:"Add New Column"})),l.a.createElement("form",{onSubmit:this.handleAddRow},l.a.createElement("input",{type:"submit",value:"Add New Row"})),l.a.createElement("label",null," Your sheet ID is: ",window.token," "),l.a.createElement("button",{onClick:Object(c.a)(s.a.mark((function t(){var n,a,l,o;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.state.data,a=e.state.row,l=e.state.col,o={modifiedData:n,numRows:a,numCols:l},t.next=6,fetch("/"+window.token,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)});case 6:t.sent.ok&&console.log("spreadsheet saving worked!");case 8:case"end":return t.stop()}}),t)})))},"Save"))}}]),t}(l.a.Component);g.defaultProps={saveToLocalStorage:!0,id:"default"};var y=function(){return l.a.createElement("div",{style:{width:"max-content"}},l.a.createElement(g,{x:parseInt(window.numRows),y:parseInt(window.numCols),id:window.token}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(l.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[11,1,2]]]);
//# sourceMappingURL=main.7cb17c03.chunk.js.map